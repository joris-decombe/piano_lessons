/* 1. Import Pixelify Sans */
@import url('https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;500;600;700&display=swap');

@import "tailwindcss";

/* ============================================
   THEME SYSTEM - 3 Pixel Art Color Themes
   ============================================ */

:root {
  /* Default to cool theme */
  --background: #0a0a0f;
  --foreground: #E2E4E9;
}

/* --- COOL THEME (Cyber/Neon) --- */
:root, [data-theme="cool"] {
  /* Voids & Darks */
  --color-void: #0a0a0f;
  --color-bg: #12121a;
  --color-surface: #1a1a24;
  --color-elevated: #22222e;

  /* Neutrals */
  --color-border: #3a3a4a;
  --color-muted: #5a5a6a;
  --color-subtle: #8a8a9a;
  --color-text: #cacad4;
  --color-text-bright: #eaeaf0;

  /* Piano Keys */
  --color-key-white: #d8dae0;
  --color-key-white-hi: #eaecf0;
  --color-key-white-lo: #a8aab0;
  --color-key-black: #2a2a34;
  --color-key-black-hi: #3a3a44;
  --color-key-black-lo: #1a1a24;

  /* Accents */
  --color-accent-primary: #38bdf8;    /* Cyan */
  --color-accent-secondary: #fb7185;  /* Rose */
  --color-accent-tertiary: #a78bfa;   /* Purple */
  --color-ui-active: #6366f1;         /* Indigo */

  /* Note Colors (Left/Right hands) */
  --color-note-left: #fb7185;
  --color-note-right: #38bdf8;
  --color-note-unified: #a78bfa;
}

/* --- WARM THEME (Vintage/Sepia) --- */
[data-theme="warm"] {
  /* Voids & Darks */
  --color-void: #0f0a06;
  --color-bg: #1a140e;
  --color-surface: #2a2018;
  --color-elevated: #3a2e22;

  /* Neutrals */
  --color-border: #5a4a3a;
  --color-muted: #7a6a5a;
  --color-subtle: #9a8a7a;
  --color-text: #d4c8b8;
  --color-text-bright: #f0e8dc;

  /* Piano Keys - Ivory & Ebony */
  --color-key-white: #f5f0e0;
  --color-key-white-hi: #fffbf0;
  --color-key-white-lo: #c8c0a8;
  --color-key-black: #1a1810;
  --color-key-black-hi: #2a2820;
  --color-key-black-lo: #0a0806;

  /* Accents */
  --color-accent-primary: #f59e0b;    /* Amber */
  --color-accent-secondary: #ef4444;  /* Red */
  --color-accent-tertiary: #d97706;   /* Orange */
  --color-ui-active: #b45309;         /* Amber dark */

  /* Note Colors */
  --color-note-left: #ef4444;
  --color-note-right: #f59e0b;
  --color-note-unified: #fbbf24;
}

/* --- MONO THEME (Terminal/Minimal) --- */
[data-theme="mono"] {
  /* Voids & Darks - Pure blacks */
  --color-void: #000000;
  --color-bg: #0a0a0a;
  --color-surface: #141414;
  --color-elevated: #1e1e1e;

  /* Neutrals - Grayscale */
  --color-border: #333333;
  --color-muted: #555555;
  --color-subtle: #777777;
  --color-text: #aaaaaa;
  --color-text-bright: #dddddd;

  /* Piano Keys - High contrast B&W */
  --color-key-white: #e0e0e0;
  --color-key-white-hi: #f0f0f0;
  --color-key-white-lo: #a0a0a0;
  --color-key-black: #1a1a1a;
  --color-key-black-hi: #2a2a2a;
  --color-key-black-lo: #0a0a0a;

  /* Accents - Phosphor green (like old CRTs) */
  --color-accent-primary: #22c55e;    /* Green */
  --color-accent-secondary: #22c55e;  /* Same green */
  --color-accent-tertiary: #16a34a;   /* Darker green */
  --color-ui-active: #15803d;         /* Even darker */

  /* Note Colors - All green */
  --color-note-left: #4ade80;
  --color-note-right: #22c55e;
  --color-note-unified: #22c55e;
}

/* stylelint-disable-next-line at-rule-no-unknown */
@theme inline {
  --color-background: var(--color-void);
  --color-foreground: var(--color-text);
  --font-sans: "Pixelify Sans", system-ui, sans-serif;
  --font-mono: "Pixelify Sans", monospace;

  /* --- Semantic Mappings (use theme vars) --- */
  --color-piano-void: var(--color-void);
  --color-piano-bg: var(--color-bg);
  --color-piano-frame-dark: var(--color-void);
  --color-piano-frame-light: var(--color-surface);

  --color-piano-black-bed: var(--color-key-black-lo);
  --color-piano-black-face: var(--color-key-black);
  --color-piano-black-highlight: var(--color-key-black-hi);

  --color-piano-white-surface: var(--color-key-white);
  --color-piano-white-pressed: var(--color-key-white-lo);
  --color-piano-white-shadow: var(--color-key-white-lo);
  --color-piano-white-highlight: var(--color-key-white-hi);

  /* --- Spacing --- */
  --spacing-key-w: 24px;
  --spacing-key-h: 150px;
  --spacing-black-w: 14px;
  --spacing-black-h: 96px;

  /* --- Pixel Art Shadows --- */

  /* Raised button/panel bevel (light top-left, dark bottom-right) */
  --shadow-bevel-raised:
    inset 2px 2px 0 0 var(--color-key-white-hi),
    inset -2px -2px 0 0 var(--color-border);

  /* Pressed/inset bevel */
  --shadow-bevel-pressed:
    inset 2px 2px 0 0 var(--color-border),
    inset -2px -2px 0 0 var(--color-key-white-hi);

  /* Note blocks (Tetris style) */
  --shadow-bevel-note:
    inset 1px 1px 0 0 rgba(255, 255, 255, 0.9),
    inset 2px 2px 0 0 rgba(255, 255, 255, 0.4),
    inset -1px -1px 0 0 rgba(0, 0, 0, 0.6),
    inset -2px -2px 0 0 rgba(0, 0, 0, 0.3);

  /* Active key overlay bevel */
  --shadow-bevel-active:
    inset 2px 2px 0 0 rgba(255, 255, 255, 0.4),
    inset -2px -2px 0 0 rgba(0, 0, 0, 0.2);

  /* White key neighbor shadows (when pressed) */
  --shadow-key-left: inset 2px 0 0 0 var(--color-key-white-lo);
  --shadow-key-right: inset -2px 0 0 0 var(--color-key-white-lo);

  /* Hard shadow for separators */
  --shadow-hard: 1px 0 0 0 var(--color-border);
  --shadow-hard-inset: inset 0 -1px 0 0 var(--color-border);

  /* Animations */
  --ease-pixel: cubic-bezier(0, 0, 0, 1);
}

@keyframes scroll {
  from { background-position: 0 0; }
  to { background-position: 0 16px; } /* Matches background-size 16px for seamless loop */
}

.animate-scroll {
  animation: scroll 0.5s linear infinite;
}

body {
  background: var(--color-void);
  color: var(--color-text);
  font-family: var(--font-sans);
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: grayscale;
  image-rendering: pixelated;
  overscroll-behavior: none;
}

/* Scrollbar Hiding */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* ============================================
   PIXEL ART UI COMPONENTS
   ============================================ */

/* Raised panel (like Windows 95 buttons) */
.pixel-panel {
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  box-shadow:
    inset 1px 1px 0 0 var(--color-elevated),
    inset -1px -1px 0 0 var(--color-void);
}

/* Raised button */
.pixel-btn {
  background: var(--color-surface);
  border: 2px solid transparent;
  box-shadow:
    inset 1px 1px 0 0 var(--color-text),
    inset -1px -1px 0 0 var(--color-void),
    1px 1px 0 0 var(--color-void);
  transition: none;
}

.pixel-btn:hover {
  background: var(--color-elevated);
}

.pixel-btn:active {
  box-shadow:
    inset 1px 1px 0 0 var(--color-void),
    inset -1px -1px 0 0 var(--color-text);
}

/* Primary action button (colored) */
.pixel-btn-primary {
  background: var(--color-ui-active);
  color: var(--color-text-bright);
  border: 2px solid transparent;
  box-shadow:
    inset 1px 1px 0 0 var(--color-accent-primary),
    inset -1px -1px 0 0 var(--color-void),
    1px 1px 0 0 var(--color-void);
}

.pixel-btn-primary:hover {
  filter: brightness(1.1);
}

.pixel-btn-primary:active {
  box-shadow:
    inset 1px 1px 0 0 var(--color-void),
    inset -1px -1px 0 0 var(--color-accent-primary);
}

/* Inset/pressed area */
.pixel-inset {
  background: var(--color-void);
  border: 2px solid transparent;
  box-shadow:
    inset 1px 1px 0 0 var(--color-border),
    inset -1px -1px 0 0 var(--color-elevated);
}

/* Divider line */
.pixel-divider {
  height: 2px;
  background: linear-gradient(to bottom, var(--color-border) 50%, var(--color-elevated) 50%);
}

/* Text styles */
.pixel-text-muted { color: var(--color-muted); }
.pixel-text-subtle { color: var(--color-subtle); }
.pixel-text-accent { color: var(--color-accent-primary); }